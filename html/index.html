<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Description: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Description
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Description Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>NVIDIOSO NVIDIa-based cOnstraint SOlver v. 1.0 </p><pre class="fragment">  __CSP/COP REPRESENTATION__
</pre><p>VARIABLES:</p>
<p><a class="el" href="class_variable.html">Variable</a> has variable types.</p><ul>
<li>bool: true, false</li>
<li>int: -42, 0, 69</li>
<li>set of int: {}, {2, 3, 4}, 1..10</li>
</ul>
<p>We distinguish between four different types of variables, namely:</p><ul>
<li>FD Variables: standard Finite <a class="el" href="class_domain.html">Domain</a> variables</li>
<li>SUP Variables: SUPport variable introduced to compute the objective function. These variables have unbounded int domains.</li>
<li>OBJ Variables: OBJective variables. These variables store the objective value as calculated by the objective function through standard propagation. These variables have unbounded int domains.</li>
</ul>
<p>DOMAINS:</p>
<p><a class="el" href="class_domain.html">Domain</a> representation may vary depending on the type of model that is instantiated. In particular, for a CPU model the domains can be represented by lists of sets of domain value. For CUDA models domains are represented as follows. There are two internal representations for an finite domain D depending on whether |D| &lt;= max_vector or not:</p><ul>
<li>Bitmap: if |D| &lt;= max_vector;</li>
<li>List of bounds: otherwise.</li>
</ul>
<p>By default, max_vector is equal to 256. This value can be redefined via and environment variable VECTOR_MAX.</p>
<p>Domains have the following structure:</p>
<p>| EVT | REP | LB | UB | DSZ || ... BIT ... |</p>
<p>where</p>
<ul>
<li>EVT: represents the EVenT happened on the domain;</li>
<li>REP: is the REPresentation currently used; This value can be one of the following:<ul>
<li>-1, -2, -3, ...: BIT represents a set of 1, 2, 3, ... bitmaps respectively. Each bitmap represents a domain subset of values {LB, UB};</li>
<li>0 : BIT represents a Bitmap of contiguous values starting from LB: LB..VECTOR_MAX.</li>
<li>1, 2, 3, ... : in BIT there are respectively 0, 1, 2, ... pairs of bound. If there are 0 pairs, then there is a unique pair of bounds {LB, UB} in the LB/UB field respectively.</li>
</ul>
</li>
<li>LB: Lower Bound of the current domain;</li>
<li>UB: Upper Bound of the current domain;</li>
<li>DSZ: <a class="el" href="class_domain.html">Domain</a> SiZe where DSZ &lt;= max_vector -&gt; REP = 0. Moreover,<ul>
<li>{LB, UB}' = {LB, k} {k', UB} -&gt; DSZ' = DSZ - ( k' - k + 1 );</li>
<li>LB' = LB + k -&gt; DSZ' = DSZ - ( k - LB + 1 );</li>
<li>UB' = UB - k -&gt; DSZ' = DSZ - ( UB - k + 1 );</li>
</ul>
</li>
<li>BIT: bit vector where<ul>
<li>REP &lt; 0: there is a total of (&lt;=) VECTOR_MAX bits representing REP pairs of bounds. The first part of BIT is used to store REP pairs &lt;LB, UB&gt;. The second part of BIT stores the actual bitmaps. Using UB - LB + 1 it is possible to calculate the size of the bitmap and hence the position in BIT of the next pair &lt;LB, UB&gt;.</li>
<li>REP = 0: there are UB - LB + 1 &lt;= VECTOR_MAX bits of contiguous domain values starting from 0;</li>
<li>REP &gt; 0: each pair of bound is identified as LB, UB (LB = UB if singlet). If REP = 1, then there is only 1 pair of bounds represented by {LB, UB}, without any pair in BIT. If REP &gt; 1, then there are at least 2 pairs in BIT and the LB/UB fields represent respectively the min/max values among all the pairs.</li>
</ul>
</li>
</ul>
<p>OBSERVATIONS (CUDA implementation):</p>
<p>Shared Memory: 49152 = 48 kB per block -&gt; keep 47 kB available.</p><ul>
<li>REP &lt; 0 there are 47 * 1024 = 48128 -&gt; (48128 - 5 * 32)/32 = 1499 possible storable values. Worst case: REP = -256 -&gt; 3 * 256 triples = 3 * 256 = 768 &lt; 1499 (-8=256/32).</li>
<li>REP = 0 and VECTOR_MAX = 4096 the worst case is when there are 4096 sing.: ((4096 + 4096 * 2 * 32) / 8) / 1024 = 32.5 kB &lt; 45 kB ((tot_bits + tot_bits * 2 int * bit_per_int) / B) / kB.</li>
<li>REP &gt; 0: 45 kB = 11520 int -&gt; 11520 - 5 = 11515 -&gt; 11515/2 (used two int to represent a pair of bounds) = 5757 pairs separated by at least one "hole" from each other -&gt; 5757 * 2 = 11514 such as {0, 1}, {3, 4}, ... .</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The above observation means that when the domains are greater than 11514 then a check must be performed in order to apply multiple copies from global to share memory if needed. </dd>
<dd>
A domain such as {300, 450} has 150 values &lt; VECTOR_MAX but it still represented as REP &lt; 0. This is done for efficiency reasons, avoiding to store a further base-offset for contiguous domains of size &lt; VECTOR_MAX. </dd>
<dd>
When a domain (or subsets of it) is (are) represented using a bitmap, the values are stored from left to right in chunks of 32 bits (considering a 32bit representation for an unsigned int), where the most significan bit is in the leftmost position of the chuck, i.e., it is the 31th bit. For example, the domain {0, 63} is store as |31...0|32...63|. The chunk is easily retrieved computing num / 32, while the position within each chunk can be retrieved by num % 32. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Feb 8 2015 11:34:50 for Description by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
